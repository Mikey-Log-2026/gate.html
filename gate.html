<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mikey-log-2026 | Gate</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: black;
            color: #ff6; /* スターウォーズ・イエロー */
            font-family: "Arial Black", sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* 背景の星空演出 */
        #stars {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(white, rgba(255,255,255,0) 2px) 0 0/50px 50px,
                        radial-gradient(white, rgba(255,255,255,0) 2px) 10px 20px/100px 100px;
            opacity: 0.5;
            z-index: -1;
        }

        #gate-container {
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s;
        }

        #gate-container:hover {
            transform: scale(1.1);
        }

        h1 {
            font-size: 3rem;
            letter-spacing: 5px;
            text-shadow: 0 0 10px #ff6;
        }

        p {
            font-size: 1.2rem;
            letter-spacing: 2px;
        }

        /* 流れる文字の演出（クリック後に表示） */
        #crawl-container {
            display: none;
            position: absolute;
            bottom: 0;
            width: 60%;
            perspective: 400px; /* 3D遠近感 */
            text-align: justify;
        }

        #crawl-content {
            transform: rotateX(25deg) translateY(100%);
            animation: crawl 30s linear forwards;
        }

        @keyframes crawl {
            0% { transform: rotateX(25deg) translateY(100%); }
            100% { transform: rotateX(25deg) translateY(-200%); }
        }
    </style>
</head>
<body>

<div id="stars"></div>

<div id="gate-container" onclick="startExperience()">
    <h1>MIKEY LOG 2026</h1>
    <p>CLICK TO ENTER THE GALAXY</p>
</div>

<div id="crawl-container">
    <div id="crawl-content">
        <h2>Episode 1: The New Gate</h2>
        <p>It is a period of digital exploration. Mikey-log-2026 has built a new gateway on GitHub Pages...</p>
        <p>This page uses Web Audio API to generate sound waves without any external mp3 files.</p>
        <p>May the code be with you...</p>
    </div>
</div>

<script>
function startExperience() {
    // コンテナの切り替え
    document.getElementById('gate-container').style.display = 'none';
    document.getElementById('crawl-container').style.display = 'block';

    // Web Audio APIの開始
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function playNote(freq, startTime, duration, volume = 0.2) {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();

        osc.type = 'sawtooth'; // 金管楽器風のノコギリ波
        osc.frequency.setValueAtTime(freq, startTime);

        gain.gain.setValueAtTime(volume, startTime);
        gain.gain.exponentialRampToValueAtTime(0.01, startTime + duration);

        osc.connect(gain);
        gain.connect(audioCtx.destination);

        osc.start(startTime);
        osc.stop(startTime + duration);
    }

    const now = audioCtx.currentTime;

    // --- メイン・ファンファーレの再現 ---
    // 1. ジャーン！ (Bb Major)
    playNote(233.08, now, 2.0, 0.3); // Bb3
    playNote(349.23, now, 2.0, 0.3); // F4
    playNote(466.16, now, 2.0, 0.3); // Bb4

    // 2. パパパパーン (タッタッタッ)
    const rhythm = 0.2;
    playNote(349.23, now + 2.0, rhythm);       // F4
    playNote(311.13, now + 2.0 + rhythm, rhythm); // Eb4
    playNote(293.66, now + 2.0 + rhythm*2, rhythm); // D4
    playNote(466.16, now + 2.0 + rhythm*3, 1.5, 0.3); // Bb4 (High)
    
    // 3秒後に自動転送したい場合は以下をコメントアウト解除
    // setTimeout(() => { window.location.href = "home.html"; }, 10000);
}
</script>

</body>
</html>
